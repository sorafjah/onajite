<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŠãªã˜ã‚‚ã®ã‚’ã ãã†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            touch-action: manipulation; /* ãƒ€ãƒ–ãƒ«ã‚¿ãƒƒãƒ—ã«ã‚ˆã‚‹ã‚ºãƒ¼ãƒ ã‚’ç„¡åŠ¹åŒ– */
        }
        .hand-display {
            font-size: 8rem; /* çµµæ–‡å­—ã®ã‚µã‚¤ã‚ºã‚’å¤§ãã */
            line-height: 1;
            user-select: none; /* ãƒ†ã‚­ã‚¹ãƒˆé¸æŠã‚’ç„¡åŠ¹åŒ– */
            -webkit-user-select: none; /* Safariç”¨ */
            -moz-user-select: none; /* Firefoxç”¨ */
            -ms-user-select: none; /* IEç”¨ */
            transition: transform 0.1s ease-out; /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
        }
        .hand-display.pop {
            animation: pop 0.2s ease-out;
        }
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .game-container {
            width: 100%;
            max-width: 500px; /* æœ€å¤§å¹…ã‚’è¨­å®š */
            margin: auto;
            padding: 1rem;
        }
        .hand-area {
            background-color: #f3f4f6; /* è–„ã„ã‚°ãƒ¬ãƒ¼ã®èƒŒæ™¯ */
            border-radius: 0.75rem; /* è§’ã‚’ä¸¸ã */
            padding: 2rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px; /* æ‰‹ã®è¡¨ç¤ºã‚¨ãƒªã‚¢ã®æœ€å°ã®é«˜ã•ã‚’ç¢ºä¿ */
            cursor: pointer; /* ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™ã‚«ãƒ¼ã‚½ãƒ« */
        }
        .reset-button {
            background-color: #4f46e5; /* ç´«è‰²ã®èƒŒæ™¯ */
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s;
        }
        .reset-button:hover {
            background-color: #4338ca;
        }
        .tap-count {
            color: #4b5563; /* ã‚„ã‚„æ¿ƒã„ã‚°ãƒ¬ãƒ¼ã®æ–‡å­—è‰² */
        }
        .title {
            color: #374151; /* æ¿ƒã„ã‚°ãƒ¬ãƒ¼ã®æ–‡å­—è‰² */
            font-weight: bold;
            font-size: 1.875rem; /* Tailwindã®text-3xlç›¸å½“ */
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 to-blue-500 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="bg-white p-6 sm:p-8 rounded-xl shadow-2xl game-container">
        <h1 id="gameTitle" class="title text-center">ãŠãªã˜ã‚‚ã®ã‚’ã ãã†</h1>

        <div id="handArea" class="hand-area">
            <span id="handDisplay" class="hand-display">âœŒï¸</span> </div>

        <div class="flex justify-between items-center mt-4">
            <p id="tapCountDisplay" class="tap-count text-lg">ã‚¿ãƒƒãƒ—å›æ•°: 0</p>
            <button id="resetButton" class="reset-button">ãƒªã‚»ãƒƒãƒˆ</button>
        </div>
    </div>

    <script>
        const handDisplay = document.getElementById('handDisplay');
        const tapCountDisplay = document.getElementById('tapCountDisplay');
        const resetButton = document.getElementById('resetButton');
        const handArea = document.getElementById('handArea');
        const gameTitle = document.getElementById('gameTitle');

        // è¡¨ç¤ºã™ã‚‹æ‰‹ã®çµµæ–‡å­— (ã‚°ãƒ¼, ãƒãƒ§ã‚­, ãƒ‘ãƒ¼)
        const hands = ["âœŠ", "âœŒï¸", "âœ‹"];
        // ã‚µãƒ—ãƒ©ã‚¤ã‚ºã§è¡¨ç¤ºã™ã‚‹æ‰‹ã®çµµæ–‡å­— (ç‰‡æ‰‹ã§ã§ãã‚‹å½¢)
        const surpriseHands = ["ğŸ‘Œ", "ğŸ‘", "ğŸ‘", "ğŸ‘ˆ", "ğŸ‘‰", "ğŸ‘†", "ğŸ‘‡", "ğŸ‘‹", "ğŸ¤™", "ğŸ¤˜", "ğŸ¤", "ğŸ––", "ğŸ¤Ÿ"];

        let tapCount = 0;
        let gameActive = true; // ã‚²ãƒ¼ãƒ ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‹ã©ã†ã‹

        // åˆæœŸçŠ¶æ…‹ã‚’è¨­å®š
        function initializeGame() {
            handDisplay.textContent = "âœŒï¸"; // åˆæœŸè¡¨ç¤ºã‚’ãƒ”ãƒ¼ã‚¹ã«å¤‰æ›´
            handDisplay.classList.remove('pop'); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
            tapCount = 0;
            tapCountDisplay.textContent = `ã‚¿ãƒƒãƒ—å›æ•°: ${tapCount}`;
            gameActive = true;
            gameTitle.textContent = "ãŠãªã˜ã‚‚ã®ã‚’ã ãã†";
        }

        // æ‰‹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function displayRandomHand() {
            if (!gameActive) return;

            tapCount++;
            tapCountDisplay.textContent = `ã‚¿ãƒƒãƒ—å›æ•°: ${tapCount}`;

            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚’ä¸€æ—¦å‰Šé™¤ã—ã¦å†åº¦è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€é€£ç¶šã‚¿ãƒƒãƒ—ã§ã‚‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå†ç”Ÿã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
            handDisplay.classList.remove('pop');
            // requestAnimationFrame ã‚’æŒŸã‚€ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¹ã®å‰Šé™¤ã¨è¿½åŠ ãŒç¢ºå®Ÿã«è¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
            requestAnimationFrame(() => {
                requestAnimationFrame(() => { // 2å›å‘¼ã³å‡ºã™ã“ã¨ã§ã‚ˆã‚Šç¢ºå®Ÿæ€§ã‚’é«˜ã‚ã‚‹ (ç’°å¢ƒã«ã‚ˆã‚‹å·®ç•°ã‚’å¸å)
                    handDisplay.classList.add('pop');
                });
            });


            if (tapCount % 10 === 0) {
                // 10å›ã”ã¨ã«ã‚µãƒ—ãƒ©ã‚¤ã‚ºæ‰‹ã‚’è¡¨ç¤º
                const randomSurpriseIndex = Math.floor(Math.random() * surpriseHands.length);
                handDisplay.textContent = surpriseHands[randomSurpriseIndex];
                gameTitle.textContent = "ãŠãªã˜ã®ã§ããŸï¼ï¼Ÿ"; // ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ›´
            } else {
                // é€šå¸¸ã®æ‰‹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¡¨ç¤º
                const randomIndex = Math.floor(Math.random() * hands.length);
                handDisplay.textContent = hands[randomIndex];
                if (gameTitle.textContent !== "ãŠãªã˜ã‚‚ã®ã‚’ã ãã†") { // ã‚µãƒ—ãƒ©ã‚¤ã‚ºå¾Œãªã‚‰ã‚¿ã‚¤ãƒˆãƒ«ã‚’æˆ»ã™
                    gameTitle.textContent = "ãŠãªã˜ã‚‚ã®ã‚’ã ãã†";
                }
            }
        }

        // ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã®å‡¦ç†
        resetButton.addEventListener('click', () => {
            initializeGame();
        });

        // æ‰‹ã®è¡¨ç¤ºã‚¨ãƒªã‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆã‚¿ãƒƒãƒ—ï¼‰ã—ãŸã¨ãã®å‡¦ç†
        handArea.addEventListener('click', () => {
            displayRandomHand();
        });

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã«ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        handDisplay.addEventListener('animationend', () => {
            handDisplay.classList.remove('pop');
        });

        // åˆæœŸåŒ–å‘¼ã³å‡ºã—
        // initializeGame(); // HTMLå´ã§åˆæœŸè¡¨ç¤ºã‚’è¨­å®šã—ãŸã®ã§ã€ã“ã“ã§ã¯å‘¼ã°ãªã„ã‹ã€ã‚‚ã—ãã¯HTMLå´ã®åˆæœŸè¡¨ç¤ºã¨åˆã‚ã›ã‚‹
                           // ä»Šå›ã¯HTMLå´ã§åˆæœŸè¡¨ç¤ºã‚’è¨­å®šã—ãŸã®ã§ã€JSã§ã®åˆæœŸåŒ–ã¯ãã®ã¾ã¾ã«ã—ã¦ãŠãã¾ã™ã€‚
                           // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã« initializeGame ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€JSã«ã‚ˆã‚‹ä¸€è²«ã—ãŸåˆæœŸåŒ–ã‚‚å¯èƒ½ã§ã™ã€‚
                           // ã“ã“ã§ã¯ã€HTMLã®åˆæœŸè¡¨ç¤ºã‚’å„ªå…ˆã—ã€ãƒªã‚»ãƒƒãƒˆæ™‚ã« initializeGame ãŒæ©Ÿèƒ½ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
    </script>

</body>
</html>
